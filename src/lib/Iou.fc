
;; (channel, amount, iou, uome) 
(slice, int, int, int) parseInboundMessage(slice in_msg, int pk) {
;; as I unerstand pk would come from state.
  var payload = checkSigned(in_msg, pk);

  var ps = payload.begin_parse();

  var s_channel = ps~load_msg_addr();
  var amount = ps~load_uint(120);
  var iou = ps~load_uint(248);
  var uome = ps~load_uint(248);

  return (s_channel, amount, iou, uome);
}